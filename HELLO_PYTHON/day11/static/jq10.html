<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
#it{
	width: 40px;
}
#mydiv{
	height: 300px;
}
</style>
<script src="jquery-3.7.1.js"></script>
<script type="text/javascript">
var com = "123";

function getS(com, mine){
	var ret = 0;
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);
	
	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1==m1) ret++;
	if(c2==m2) ret++;
	if(c3==m3) ret++;
	
	return ret;
}

function getB(com, mine){
	var ret = 0;
	var c1 = com.substring(0,1);
	var c2 = com.substring(1,2);
	var c3 = com.substring(2,3);
	
	var m1 = mine.substring(0,1);
	var m2 = mine.substring(1,2);
	var m3 = mine.substring(2,3);
	
	if(c1==m2 || c1==m3) ret++;
	if(c2==m1 || c2==m3) ret++;
	if(c3==m1 || c3==m2) ret++;
	
	return ret;
}


function myclick(){
	var mine = $("#it").val();
	
	var s = getS(com, mine);
	var b = getB(com, mine);
	
	var line = mine+" "+s+"S"+b+"B"+"<br>";
	var str_old = $("#mydiv").html();
	console.log(com);
	$("#mydiv").html(str_old + line);
	$("#it").val("");
	
	if(s==3){
		alert("정답입니다.\n"+mine);
		$("#mydiv").html("");
		myinit();
	}
	
}

function myinit(){
	var arr = [1,2,3,4,5,6,7,8,9];
	
	for(var i=0; i<100; i++){
		var ran = parseInt(Math.random()*9);
		var a = arr[0];
		arr[0]=arr[ran];
		arr[ran]=a;
	}
	com = arr[0]+""+arr[1]+""+arr[2];
}

$(document).ready(function(){
	$("#btn").bind("click", function(event) {
		myclick();
	});
	$("#it").keydown(function(e) {
		if(e.code == "Enter"){
			myclick();
		}
	});
	myinit();
});

</script>
</head>
<body>
JQ10<br>
<table border="1">
	<tr>
		<td>스트라이크</td>
		<td>
			<input type="text" id="it">
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<input type="button" value="맞춰보기" id="btn">
		</td>
	</tr>
	<tr>
		<td colspan="2">
			<div id="mydiv">
			</div>
		</td>
	</tr>

</table>
</body>
</html>